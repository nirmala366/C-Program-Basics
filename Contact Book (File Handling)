#include <stdio.h>
#include <stdlib.h>

struct Contact {
    char name[50];
    char phone[15];
};

int main() {
    FILE *fp;
    struct Contact c;
    int choice;

    do {
        printf("\n--- Contact Book ---\n");
        printf("1. Add Contact\n2. View Contacts\n3. Exit\nEnter choice: ");
        scanf("%d", &choice);

        if (choice == 1) {
            fp = fopen("contacts.dat", "ab");
            printf("Enter Name: ");
            scanf("%s", c.name);
            printf("Enter Phone: ");
            scanf("%s", c.phone);
            fwrite(&c, sizeof(c), 1, fp);
            fclose(fp);
            printf("Contact Saved!\n");
        } 
        else if (choice == 2) {
            fp = fopen("contacts.dat", "rb");
            printf("\n--- All Contacts ---\n");
            while (fread(&c, sizeof(c), 1, fp)) {
                printf("Name: %s | Phone: %s\n", c.name, c.phone);
            }
            fclose(fp);
        }
    } while (choice != 3);

    return 0;
}
